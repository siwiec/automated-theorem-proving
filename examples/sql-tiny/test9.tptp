% Equivallence check for file examples/sql-tiny/test9.sql...
% CREATE TABLE tab (
%   fst NUMBER(4),
%   snd NUMBER(4),
%   trd NUMBER(4),
%   CONSTRAINT tab_pk PRIMARY KEY (fst, snd)
% );
% 
% 
% SELECT b.fst
% FROM tab AS a,
%      tab AS b
% WHERE
%     b.fst = a.snd
%     AND b.fst=b.snd
%     
% SELECT b.fst
% FROM tab AS b
% WHERE b.fst =b.snd

% Database scheme:
% tab:
%   fst: Number
%   snd: Number
%   trd: Number
fof(equivalence_check,conjecture,(
    ! [B_FST] :
      ( main_query_0(B_FST)
    <=> main_query_1(B_FST) ) )).

fof(main_query_0,definition,(
    ! [B_FST] :
      ( main_query_0(B_FST)
    <=> ? [A_FST,A_SND,A_TRD,B_SND,B_TRD] :
          ( ! [A_TAB_FST,A_TAB_SND,A_TAB_TRD] :
              ( a(A_TAB_FST,A_TAB_SND,A_TAB_TRD)
            <=> tab(A_TAB_FST,A_TAB_SND,A_TAB_TRD) )
          & a(A_FST,A_SND,A_TRD)
          & ! [B_TAB_FST,B_TAB_SND,B_TAB_TRD] :
              ( b(B_TAB_FST,B_TAB_SND,B_TAB_TRD)
            <=> tab(B_TAB_FST,B_TAB_SND,B_TAB_TRD) )
          & b(B_FST,B_SND,B_TRD)
          & $true
          & B_FST = A_SND
          & B_FST = B_SND ) ) )).

fof(main_query_1,definition,(
    ! [B_FST] :
      ( main_query_1(B_FST)
    <=> ? [B_SND,B_TRD] :
          ( ! [B_TAB_FST,B_TAB_SND,B_TAB_TRD] :
              ( b(B_TAB_FST,B_TAB_SND,B_TAB_TRD)
            <=> tab(B_TAB_FST,B_TAB_SND,B_TAB_TRD) )
          & b(B_FST,B_SND,B_TRD)
          & $true
          & B_FST = B_SND ) ) )).

